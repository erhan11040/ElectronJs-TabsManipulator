<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>window.$ = window.jQuery = require('./js/jq-3.3.1.js');</script>
<link href="css/chrome-tabs-dark-theme.css" rel='stylesheet'>
<link href="css/chrome-tabs.css" rel='stylesheet'>
<link href="css/new.css" rel='stylesheet'>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"  crossorigin="anonymous"></script>
<script src="https://unpkg.com/draggabilly@2.1.1/dist/draggabilly.pkgd.min.js"></script>
<script src="js/chrome-tabs.js"></script>    
<title>Arbis Yazılım Yönetim Sistemleri</title>
</head>
<body style="background-color:#2b2b2b; height: 105%">
    <div class="chrome-tabs">
            <div class="chrome-tabs-content"></div>
            <div class="chrome-tabs-bottom-bar"></div>

    </div>
 <div id="PageContent">
    <div class="container container-table">
            <div class="row vertical-center-row">
            <div class="row"  style="text-align:center">
                <button  data-add-tab class="btn btn-success" style="width:40%;"  onclick="TabAc('kontor')">Kontör</button>
            </div>
            <br>
            <div class="row"  style="text-align:center">
                <button  data-add-tab class="btn btn-success" style="width:40%;" onclick="TabAc('fatura')" >Fatura</button>
            </div>
                    
        </div>
    </div>
 </div>
    

</body>
<script>
    
        var counter=2;
        
        const pager='<div><webview id="CurrentPage" src="https://www.github.com/" style="display:inline-flex; width:100%; height:100%"></webview></div>';
        const drag=require('./js/Dragging.js');
        const ChromeTabs=require('./js/chrome-tabs');

        var el = document.querySelector('.chrome-tabs');
        var chromeTabs = new ChromeTabs();
  
        chromeTabs.init(el, {
          tabOverlapDistance: 14,
          minWidth: 45,
          maxWidth: 243
        })
        chromeTabs.addCustomTab({
            title: 'Arbis Bilişim',
            favicon: 'demo/images/default-favicon.png',
            id:"tab_1",
            url:"none",
            close:false
          })
        el.addEventListener('activeTabChange', ({ detail }) => console.log('Active tab changed', detail.tabEl))
        el.addEventListener('tabAdd', ({ detail }) => console.log('Tab added', detail.tabEl))
        el.addEventListener('tabRemove', ({ detail }) => console.log('Tab removed', detail.tabEl))
  

        
        if (el.classList.contains('chrome-tabs-dark-theme')) {
          document.documentElement.classList.remove('dark-theme')
          el.classList.remove('chrome-tabs-dark-theme')
        } else {
          document.documentElement.classList.add('dark-theme')
          el.classList.add('chrome-tabs-dark-theme')
        }

        el.addEventListener('activeTabChange', ({ detail }) =>TabChanged(detail) )
        function TabAc(str)
        {
            var uurl="";
            if(str=="fatura")
                uurl="http://wwww.robotapi.robotikyazilim.com";
            else
                uurl="http://www.google.com";
            counter++;
            chromeTabs.addCustomTab({
            title: str,
            favicon: 'demo/images/default-favicon.png',
            url:uurl,
            close:true,
            id:'tab_'+counter
          });
          console.log($(".chrome-tab"));
          document.getElementById('PageContent').innerHTML=pager;
          $("#CurrentPage").src=uurl;

        }
        function TabChanged(detail)
        {
            var id="url_"+detail.tabEl.id;
            console.log( $("#"+id)[0].value);
            var url=$("#"+id)[0].value;
            console.log( $("#CurrentPage"));
            $("#CurrentPage")[0].src=url;
        }
      </script>
